Cache Identifier
================

Cached results are given an identifier that describes the search used to find them.

Considerations
--------------

Information included in the cache identifier is not reproduced in the individual cached items data.

Identifiers must be safe to use in UNIX filenames and as URLs- no embedded slashes.


Format
------

[Media]-[License]-[Platform]--results-[Terms]

### Media

The media type, e.g. i for images.

Results from platforms that support multiple media types are stored separately. This allows more granular re-use of results.

### License

The license type, e.g. 1 for CC-BY.

The license *version* is not stored.

### Platform

The name of the platform that provided the search results. e.g. archive.org .

### Terms

The search string sent to the platform.

This is url-encoded.


Cache Items
===========

Common Fields
-------------

### title

The work title as supplied by the platform.

### identifier

The unique identifier for the work on the platform, preferably an API GUID.

It must be possible both to uniquely and permanently identify the work on the platform using this GUID and also to generate a URL that is a link to a publicly viewable web page using it.

### url

The work url, if this cannot be generated simply from the identifier and the platform name.

### author

The author's name for attribution as provided by the platform for attribution.

### author_url

The provided author url, if any.

### attribution

If the platform or author provides a preferred form of attribution, this should be stored and used in preference to generating an attribution link.

In its absence a licensing block similar to that generated by the license chooser will be generated from the license, author, title and identifier fields.

### preview_url

The https url for the thumbnail image or other preview for the work provided by the platform.

### full_url

The https url for the full-sized image or other full digital work provided by the platform.

For images this need not be the original image or the original size, it should however be "large" (at least 800x600 pixels).
